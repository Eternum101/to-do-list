(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function n(n){t(1,arguments);var a=Object.prototype.toString.call(n);return n instanceof Date||"object"===e(n)&&"[object Date]"===a?new Date(n.getTime()):"number"==typeof n||"[object Number]"===a?new Date(n):("string"!=typeof n&&"[object String]"!==a||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function a(e){t(1,arguments);var a=n(e);return a.setHours(0,0,0,0),a}function o(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}var i={};function s(){return i}const l=document.querySelector("[data-projects]"),r=document.querySelector("[data-new-project-form]"),c=document.querySelector("[data-new-project-input]"),d=document.querySelector("[data-delete-list-button]"),u=document.querySelector("[data-list-display-container]"),m=document.querySelector("[data-list-title]"),v=document.querySelector("[data-list-count]"),p=document.querySelector("[data-tasks]"),y=document.getElementById("task-template"),f=document.querySelector("[data-new-task-form]"),S=document.querySelector("[data-new-task-input]"),b=document.querySelector("[data-clear-complete-button]"),k=document.querySelector("[data-all-tasks-button]"),g=document.querySelector("[data-today-button]"),h=document.querySelector("[data-this-week-button]"),w=document.querySelector("[data-delete-task]"),L=document.querySelector("[data-new-task-form");(()=>{const e="task.lists",i="task.selectedListID";let q=JSON.parse(localStorage.getItem(e))||[],D=localStorage.getItem(i);function E(e,t){t.addEventListener("input",(function(t){const n=t.target.value;e.dueDate=n}))}function T(){N(),O()}function N(){localStorage.setItem(e,JSON.stringify(q)),localStorage.setItem(i,D)}function O(){x(l),q.forEach((e=>{const t=document.createElement("li");t.dataset.listId=e.id,t.classList.add("list-name");const n=document.createElement("span");n.setAttribute("class","material-symbols-outlined list"),n.innerText="playlist_add",t.appendChild(n),t.appendChild(document.createTextNode(e.name)),e.id===D&&(t.classList.add("active-list"),k.classList.remove("btn-active"),g.classList.remove("btn-active"),h.classList.remove("btn-active")),l.appendChild(t)}));const e=q.find((e=>e.id===D));null==D?u.style.display="none":(u.style.display="",m.innerText=e.name,C(e),x(p),function(e){e.tasks.forEach((e=>{const t=document.importNode(y.content,!0),n=t.querySelector("input");n.id=e.id,n.checked=e.complete;const a=t.querySelector("label");a.htmlFor=e.id,a.append(e.name);const o=t.querySelector(".input-due-date");o.value=e.dueDate,E(e,o),p.appendChild(t)}))}(e),f.style.display="",w.style.display="")}function C(e){const t=e.tasks.filter((e=>!e.complete)).length,n=1===t?"Task":"Tasks";v.innerText=`${t} ${n} Remaining`}function x(e){for(;e.firstChild;)e.removeChild(e.firstChild)}l.addEventListener("click",(e=>{"li"===e.target.tagName.toLowerCase()&&(D=e.target.dataset.listId,T())})),p.addEventListener("click",(e=>{if("input"===e.target.tagName.toLowerCase()){const t=q.find((e=>e.id===D));t.tasks.find((t=>t.id===e.target.id)).complete=e.target.checked,N(),k.classList.contains("btn-active")||g.classList.contains("btn-active")||h.classList.contains("btn-active")||C(t)}})),b.addEventListener("click",(e=>{const t=q.find((e=>e.id===D));t.tasks=t.tasks.filter((e=>!e.complete)),T()})),d.addEventListener("click",(e=>{q=q.filter((e=>e.id!==D)),D=null,T()})),r.addEventListener("submit",(e=>{e.preventDefault();const t=c.value;if(null==t||""===t)return;const n=(a=t,{id:Date.now().toString(),name:a,tasks:[]});var a;c.value=null,q.push(n),T()})),f.addEventListener("submit",(e=>{e.preventDefault();const t=S.value;if(null==t||""===t)return;const n=(a=t,{id:Date.now().toString(),name:a,complete:!1,dueDate:null});var a;S.value=null,q.find((e=>e.id===D)).tasks.push(n),T()})),k.addEventListener("click",(()=>{!function(){x(p),q.forEach((e=>{e.tasks.forEach((e=>{const t=document.importNode(y.content,!0),n=t.querySelector("input");n.id=e.id,n.checked=e.complete;const a=t.querySelector("label");a.htmlFor=e.id,a.append(e.name);const o=t.querySelector(".input-due-date");o.value=e.dueDate,E(e,o),n.addEventListener("click",(e=>{const t=q.flatMap((e=>e.tasks)).find((t=>t.id===e.target.id));t.complete=e.target.checked,N(),C()})),p.appendChild(t)}))}));const e=l.querySelector(".active-list");e&&e.classList.remove("active-list"),m.innerText="All Tasks",v.innerText="",w.style.display="none",L.style.display="none",u.style.display=""}(),g.classList.remove("btn-active"),h.classList.remove("btn-active"),k.classList.add("btn-active")})),g.addEventListener("click",(()=>{!function(){const e=new Date;x(p),q.forEach((n=>{n.tasks.forEach((n=>{if(function(e,n){t(2,arguments);var o=a(e),i=a(n);return o.getTime()===i.getTime()}(new Date(n.dueDate),e)){const e=document.importNode(y.content,!0),t=e.querySelector("input");t.id=n.id,t.checked=n.complete;const a=e.querySelector("label");a.htmlFor=n.id,a.append(n.name);const o=e.querySelector(".input-due-date");o.value=n.dueDate,E(n,o),p.appendChild(e)}}))})),m.innerText="Today",v.innerText="",w.style.display="none",L.style.display="none";const n=l.querySelector(".active-list");n&&n.classList.remove("active-list")}(),k.classList.remove("btn-active"),h.classList.remove("btn-active"),g.classList.add("btn-active")})),h.addEventListener("click",(()=>{!function(){const e=new Date,a=function(e,a){var i,l,r,c,d,u,m,v;t(1,arguments);var p=s(),y=o(null!==(i=null!==(l=null!==(r=null!==(c=null==a?void 0:a.weekStartsOn)&&void 0!==c?c:null==a||null===(d=a.locale)||void 0===d||null===(u=d.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==r?r:p.weekStartsOn)&&void 0!==l?l:null===(m=p.locale)||void 0===m||null===(v=m.options)||void 0===v?void 0:v.weekStartsOn)&&void 0!==i?i:0);if(!(y>=0&&y<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=n(e),S=f.getDay(),b=(S<y?7:0)+S-y;return f.setDate(f.getDate()-b),f.setHours(0,0,0,0),f}(e),i=function(e,a){var i,l,r,c,d,u,m,v;t(1,arguments);var p=s(),y=o(null!==(i=null!==(l=null!==(r=null!==(c=null==a?void 0:a.weekStartsOn)&&void 0!==c?c:null==a||null===(d=a.locale)||void 0===d||null===(u=d.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==r?r:p.weekStartsOn)&&void 0!==l?l:null===(m=p.locale)||void 0===m||null===(v=m.options)||void 0===v?void 0:v.weekStartsOn)&&void 0!==i?i:0);if(!(y>=0&&y<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=n(e),S=f.getDay(),b=6+(S<y?-7:0)-(S-y);return f.setDate(f.getDate()+b),f.setHours(23,59,59,999),f}(e);x(p),q.forEach((e=>{e.tasks.forEach((e=>{if(function(e,a){t(2,arguments);var o=n(e).getTime(),i=n(a.start).getTime(),s=n(a.end).getTime();if(!(i<=s))throw new RangeError("Invalid interval");return o>=i&&o<=s}(new Date(e.dueDate),{start:a,end:i})){const t=document.importNode(y.content,!0),n=t.querySelector("input");n.id=e.id,n.checked=e.complete;const a=t.querySelector("label");a.htmlFor=e.id,a.append(e.name);const o=t.querySelector(".input-due-date");o.value=e.dueDate,E(e,o),p.appendChild(t)}}))})),m.innerText="This Week",v.innerText="",w.style.display="none",L.style.display="none";const r=l.querySelector(".active-list");r&&r.classList.remove("active-list")}(),k.classList.remove("btn-active"),g.classList.remove("btn-active"),h.classList.add("btn-active")})),O()})()})();