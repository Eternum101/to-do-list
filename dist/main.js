(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function n(n){t(1,arguments);var a=Object.prototype.toString.call(n);return n instanceof Date||"object"===e(n)&&"[object Date]"===a?new Date(n.getTime()):"number"==typeof n||"[object Number]"===a?new Date(n):("string"!=typeof n&&"[object String]"!==a||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function a(e){t(1,arguments);var a=n(e);return a.setHours(0,0,0,0),a}function o(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}var i={};function r(){return i}const l=document.querySelector("[data-projects]"),s=document.querySelector("[data-new-project-form]"),c=document.querySelector("[data-new-project-input]"),d=document.querySelector("[data-delete-list-button]"),u=document.querySelector("[data-list-display-container]"),m=document.querySelector("[data-list-title]"),v=document.querySelector("[data-list-count]"),p=document.querySelector("[data-tasks]"),f=document.getElementById("task-template"),y=document.querySelector("[data-new-task-form]"),S=document.querySelector("[data-new-task-input]"),g=document.querySelector("[data-clear-complete-button]"),b=document.querySelector("[data-all-tasks-button]"),k=document.querySelector("[data-today-button]"),h=document.querySelector("[data-this-week-button]");(()=>{const e="task.lists",i="task.selectedListID";let w=JSON.parse(localStorage.getItem(e))||[],q=localStorage.getItem(i);function L(e,t){t.addEventListener("input",(function(t){const n=t.target.value;e.dueDate=n}))}function D(){E(),T()}function E(){localStorage.setItem(e,JSON.stringify(w)),localStorage.setItem(i,q)}function T(){O(l),w.forEach((e=>{const t=document.createElement("li");t.dataset.listId=e.id,t.classList.add("list-name");const n=document.createElement("span");n.setAttribute("class","material-symbols-outlined list"),n.innerText="playlist_add",t.appendChild(n),t.appendChild(document.createTextNode(e.name)),e.id===q&&(t.classList.add("active-list"),b.classList.remove("btn-active"),k.classList.remove("btn-active")),l.appendChild(t)}));const e=w.find((e=>e.id===q));null==q?u.style.display="none":(u.style.display="",m.innerText=e.name,N(e),O(p),function(e){e.tasks.forEach((e=>{const t=document.importNode(f.content,!0),n=t.querySelector("input");n.id=e.id,n.checked=e.complete;const a=t.querySelector("label");a.htmlFor=e.id,a.append(e.name);const o=t.querySelector(".input-due-date");o.value=e.dueDate,L(e,o),p.appendChild(t)}))}(e))}function N(e){const t=e.tasks.filter((e=>!e.complete)).length,n=1===t?"Task":"Tasks";v.innerText=`${t} ${n} Remaining`}function O(e){for(;e.firstChild;)e.removeChild(e.firstChild)}l.addEventListener("click",(e=>{"li"===e.target.tagName.toLowerCase()&&(q=e.target.dataset.listId,D())})),p.addEventListener("click",(e=>{if("input"===e.target.tagName.toLowerCase()){const t=w.find((e=>e.id===q));t.tasks.find((t=>t.id===e.target.id)).complete=e.target.checked,E(),N(t)}})),g.addEventListener("click",(e=>{const t=w.find((e=>e.id===q));t.tasks=t.tasks.filter((e=>!e.complete)),D()})),d.addEventListener("click",(e=>{w=w.filter((e=>e.id!==q)),q=null,D()})),s.addEventListener("submit",(e=>{e.preventDefault();const t=c.value;if(null==t||""===t)return;const n=(a=t,{id:Date.now().toString(),name:a,tasks:[]});var a;c.value=null,w.push(n),D()})),y.addEventListener("submit",(e=>{e.preventDefault();const t=S.value;if(null==t||""===t)return;const n=(a=t,{id:Date.now().toString(),name:a,complete:!1,dueDate:null});var a;S.value=null,w.find((e=>e.id===q)).tasks.push(n),D()})),b.addEventListener("click",(()=>{!function(){O(p),w.forEach((e=>{e.tasks.forEach((e=>{const t=document.importNode(f.content,!0),n=t.querySelector("input");n.id=e.id,n.checked=e.complete;const a=t.querySelector("label");a.htmlFor=e.id,a.append(e.name);const o=t.querySelector(".input-due-date");o.value=e.dueDate,L(e,o),n.addEventListener("click",(e=>{const t=w.flatMap((e=>e.tasks)).find((t=>t.id===e.target.id));t.complete=e.target.checked,E(),N()})),p.appendChild(t)}))}));const e=l.querySelector(".active-list");e&&e.classList.remove("active-list"),m.innerText="All Tasks",v.innerText="",u.style.display=""}(),k.classList.remove("btn-active"),h.classList.remove("btn-active"),b.classList.add("btn-active")})),k.addEventListener("click",(()=>{!function(){const e=new Date;O(p),w.forEach((n=>{n.tasks.forEach((n=>{if(function(e,n){t(2,arguments);var o=a(e),i=a(n);return o.getTime()===i.getTime()}(new Date(n.dueDate),e)){const e=document.importNode(f.content,!0),t=e.querySelector("input");t.id=n.id,t.checked=n.complete;const a=e.querySelector("label");a.htmlFor=n.id,a.append(n.name);const o=e.querySelector(".input-due-date");o.value=n.dueDate,L(n,o),p.appendChild(e)}}))})),m.innerText="Today",v.innerText="";const n=l.querySelector(".active-list");n&&n.classList.remove("active-list")}(),b.classList.remove("btn-active"),h.classList.remove("btn-active"),k.classList.add("btn-active")})),h.addEventListener("click",(()=>{!function(){const e=new Date,a=function(e,a){var i,l,s,c,d,u,m,v;t(1,arguments);var p=r(),f=o(null!==(i=null!==(l=null!==(s=null!==(c=null==a?void 0:a.weekStartsOn)&&void 0!==c?c:null==a||null===(d=a.locale)||void 0===d||null===(u=d.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==s?s:p.weekStartsOn)&&void 0!==l?l:null===(m=p.locale)||void 0===m||null===(v=m.options)||void 0===v?void 0:v.weekStartsOn)&&void 0!==i?i:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var y=n(e),S=y.getDay(),g=(S<f?7:0)+S-f;return y.setDate(y.getDate()-g),y.setHours(0,0,0,0),y}(e),i=function(e,a){var i,l,s,c,d,u,m,v;t(1,arguments);var p=r(),f=o(null!==(i=null!==(l=null!==(s=null!==(c=null==a?void 0:a.weekStartsOn)&&void 0!==c?c:null==a||null===(d=a.locale)||void 0===d||null===(u=d.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==s?s:p.weekStartsOn)&&void 0!==l?l:null===(m=p.locale)||void 0===m||null===(v=m.options)||void 0===v?void 0:v.weekStartsOn)&&void 0!==i?i:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var y=n(e),S=y.getDay(),g=6+(S<f?-7:0)-(S-f);return y.setDate(y.getDate()+g),y.setHours(23,59,59,999),y}(e);O(p),w.forEach((e=>{e.tasks.forEach((e=>{if(function(e,a){t(2,arguments);var o=n(e).getTime(),i=n(a.start).getTime(),r=n(a.end).getTime();if(!(i<=r))throw new RangeError("Invalid interval");return o>=i&&o<=r}(new Date(e.dueDate),{start:a,end:i})){const t=document.importNode(f.content,!0),n=t.querySelector("input");n.id=e.id,n.checked=e.complete;const a=t.querySelector("label");a.htmlFor=e.id,a.append(e.name);const o=t.querySelector(".input-due-date");o.value=e.dueDate,L(e,o),p.appendChild(t)}}))})),m.innerText="This Week",v.innerText="";const s=l.querySelector(".active-list");s&&s.classList.remove("active-list")}(),b.classList.remove("btn-active"),k.classList.remove("btn-active"),h.classList.add("btn-active")})),T()})()})();